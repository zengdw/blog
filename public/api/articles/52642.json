{"title":"XMLHttpRequest下载文件","uid":"f5148e2ec46f11185a88064560b60cb3","slug":52642,"date":"2021-07-16T17:03:02.000Z","updated":"2024-11-07T06:45:23.577Z","comments":true,"path":"api/articles/52642.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"content":"<p>使用XMLHttpRequest下载文件</p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">const xhr &#x3D; new XMLHttpRequest()\nxhr.open(&#39;get&#39;, &#39;下载链接&#39;)\nxhr.responseType &#x3D; &#39;blob&#39;\nxhr.onreadystatechange &#x3D; function () &#123;\n  if (xhr.readyState &#x3D;&#x3D;&#x3D; XMLHttpRequest.DONE &amp;&amp; xhr.status &#x3D;&#x3D;&#x3D; 200) &#123;\n    saveAs(xhr.response, &#39;文件名称&#39;)\n  &#125;\n&#125;\nxhr.send();\n\nfunction saveAs(data, name) &#123;\n  var urlObject &#x3D; window.URL || window.webkitURL || window;\n  const export_blob &#x3D; new Blob([data]);\n  var save_link &#x3D; document.createElementNS(&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&#39;, &#39;a&#39;)\n  save_link.href &#x3D; urlObject.createObjectURL(export_blob);\n  save_link.download &#x3D; name;\n  save_link.click();\n&#125;</code></pre>\n\n","text":"使用XMLHttpRequest下载文件 const xhr &#x3D; new XMLHttpRequest() xhr.open(&#39;get&#39;, &#39;下载链接&#39;) xhr.responseType &#x3D; &#39;blob&#39; xh...","link":"","photos":[],"count_time":{"symbolsCount":763,"symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":6,"path":"api/categories/前端.json"}],"tags":[{"name":"js","slug":"js","count":4,"path":"api/tags/js.json"}],"toc":"","author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}},"mapped":true,"prev_post":{"title":"为什么Java中1000==1000为false，而100==100为true？","uid":"2ccfc909aebeafe15ee74b64b3820d5d","slug":42461,"date":"2021-08-02T08:00:15.000Z","updated":"2024-11-07T06:45:23.584Z","comments":true,"path":"api/articles/42461.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"为什么Java中1000 == 1000为false，而100 == 100为true？主要是Integer内部类IntegerCache缓存了从 - 128 到 127 之间的所有的整数对象 private static class IntegerCache &#123; st...","link":"","photos":[],"count_time":{"symbolsCount":959,"symbolsTime":"1 mins."},"categories":[{"name":"转载","slug":"转载","count":1,"path":"api/categories/转载.json"}],"tags":[{"name":"java","slug":"java","count":1,"path":"api/tags/java.json"},{"name":"基础","slug":"基础","count":1,"path":"api/tags/基础.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}},"next_post":{"title":"git常用命令","uid":"3c992e7574b48536b50666714703da0d","slug":953,"date":"2021-06-25T03:22:52.000Z","updated":"2024-11-07T06:45:23.578Z","comments":true,"path":"api/articles/953.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"git推送本地分支到远程git push -u origin &lt;分支名称&gt; git 删除远程分支git push origin --delete &lt;分支名称&gt; Git报错-refusing to merge unrelated histories本地仓库第...","link":"","photos":[],"count_time":{"symbolsCount":547,"symbolsTime":"1 mins."},"categories":[{"name":"软件工具","slug":"软件工具","count":5,"path":"api/categories/软件工具.json"}],"tags":[{"name":"git","slug":"git","count":1,"path":"api/tags/git.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}}}