{"title":"logkack日志配置文件","uid":"f9dec9d80bbb9ed9aeded48053152e85","slug":22012,"date":"2021-03-23T07:14:20.000Z","updated":"2024-11-07T06:45:23.580Z","comments":true,"path":"api/articles/22012.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"content":"<p>logkack-spring.xml</p>\n<pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;!-- magenta:洋红 --&gt;\n  &lt;!-- boldMagenta:粗红--&gt;\n  &lt;!-- cyan:青色 --&gt;\n  &lt;!-- white:白色 --&gt;\n  &lt;!-- magenta:洋红 --&gt;\n  &lt;springProperty name&#x3D;&quot;LOG_PATH&quot; source&#x3D;&quot;logging.path&quot; defaultValue&#x3D;&quot;.&#x2F;logs&quot; &#x2F;&gt;\n  &lt;property name&#x3D;&quot;CONSOLE_LOG_PATTERN&quot; value&#x3D;&quot;%yellow(%date&#123;yyyy-MM-dd HH:mm:ss&#125;) |%highlight(%thread %-5level) |%green(%logger:%line) |%highlight(%msg%n)&quot;&#x2F;&gt;\n  &lt;property name&#x3D;&quot;FILE_LOG_PATTERN&quot; value&#x3D;&quot;%date&#123;yyyy-MM-dd HH:mm:ss&#125; |%thread %-5level |%logger:%line |%msg%n&quot;&#x2F;&gt;\n  &lt;!-- 模块名称， 影响日志配置名，日志文件名 --&gt;\n  &lt;property name&#x3D;&quot;log.base&quot; value&#x3D;&quot;$&#123;LOG_PATH&#125;&quot;&#x2F;&gt;\n\n  &lt;springProfile name&#x3D;&quot;prod&quot;&gt;\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;写入文件&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n    &lt;appender name&#x3D;&quot;logFile&quot; class&#x3D;&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n      &lt;File&gt;$&#123;log.base&#125;&#x2F;log&#x2F;log.log&lt;&#x2F;File&gt;\n      &lt;filter class&#x3D;&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;&lt;!-- 不接受ERROR日志 --&gt;\n        &lt;level&gt;ERROR&lt;&#x2F;level&gt;\n        &lt;onMatch&gt;DENY&lt;&#x2F;onMatch&gt;\n        &lt;onMismatch&gt;NEUTRAL&lt;&#x2F;onMismatch&gt;\n      &lt;&#x2F;filter&gt;\n      &lt;filter class&#x3D;&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;&lt;!-- 不接受DEBUG日志 --&gt;\n        &lt;level&gt;DEBUG&lt;&#x2F;level&gt;\n        &lt;onMatch&gt;DENY&lt;&#x2F;onMatch&gt;\n        &lt;onMismatch&gt;NEUTRAL&lt;&#x2F;onMismatch&gt;\n      &lt;&#x2F;filter&gt;\n      &lt;encoder&gt;\n        &lt;pattern&gt;$&#123;FILE_LOG_PATTERN&#125;&lt;&#x2F;pattern&gt;\n        &lt;charset&gt;UTF-8&lt;&#x2F;charset&gt;\n      &lt;&#x2F;encoder&gt;\n      &lt;rollingPolicy class&#x3D;&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- 按天回滚 daily --&gt;\n        &lt;fileNamePattern&gt;$&#123;log.base&#125;&#x2F;log&#x2F;log-%d&#123;yyyy-MM-dd&#125;.%i.log&lt;&#x2F;fileNamePattern&gt;\n        &lt;!-- 日志最大的历史 30天 --&gt;\n        &lt;maxHistory&gt;30&lt;&#x2F;maxHistory&gt;\n        &lt;!--日志文件在大于100MB时会自动生成另一个文件--&gt;\n        &lt;TimeBasedFileNamingAndTriggeringPolicy class&#x3D;&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n          &lt;maxFileSize&gt;100MB&lt;&#x2F;maxFileSize&gt;\n        &lt;&#x2F;TimeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;&#x2F;rollingPolicy&gt;\n    &lt;&#x2F;appender&gt;\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;写入文件&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;异常日志&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n    &lt;appender name&#x3D;&quot;errorFile&quot; class&#x3D;&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n      &lt;file&gt;$&#123;log.base&#125;&#x2F;error&#x2F;error.log&lt;&#x2F;file&gt;\n      &lt;!-- 只打印错误日志 --&gt;\n      &lt;filter class&#x3D;&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;ERROR&lt;&#x2F;level&gt;\n        &lt;onMatch&gt;ACCEPT&lt;&#x2F;onMatch&gt;\n        &lt;onMismatch&gt;DENY&lt;&#x2F;onMismatch&gt;\n      &lt;&#x2F;filter&gt;\n      &lt;rollingPolicy class&#x3D;&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;$&#123;log.base&#125;&#x2F;error&#x2F;error-%d&#123;yyyy-MM-dd&#125;.%i.log&lt;&#x2F;fileNamePattern&gt;\n        &lt;maxHistory&gt;30&lt;&#x2F;maxHistory&gt;\n        &lt;TimeBasedFileNamingAndTriggeringPolicy class&#x3D;&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n          &lt;maxFileSize&gt;100MB&lt;&#x2F;maxFileSize&gt;\n        &lt;&#x2F;TimeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;&#x2F;rollingPolicy&gt;\n      &lt;encoder&gt;\n        &lt;pattern&gt;$&#123;FILE_LOG_PATTERN&#125;&lt;&#x2F;pattern&gt;\n        &lt;charset&gt;UTF-8&lt;&#x2F;charset&gt;\n      &lt;&#x2F;encoder&gt;\n    &lt;&#x2F;appender&gt;\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;异常日志&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n  &lt;&#x2F;springProfile&gt;\n\n  &lt;springProfile name&#x3D;&quot;dev&quot;&gt;\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;控制台&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n    &lt;appender name&#x3D;&quot;stdout&quot; class&#x3D;&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n      &lt;encoder&gt;\n        &lt;pattern&gt;$&#123;CONSOLE_LOG_PATTERN&#125;&lt;&#x2F;pattern&gt;\n      &lt;&#x2F;encoder&gt;\n    &lt;&#x2F;appender&gt;\n    &lt;!--&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;控制台&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;--&gt;\n  &lt;&#x2F;springProfile&gt;\n\n  &lt;springProfile name&#x3D;&quot;prod&quot;&gt;\n    &lt;root level&#x3D;&quot;INFO&quot;&gt;\n      &lt;appender-ref ref&#x3D;&quot;logFile&quot;&#x2F;&gt;\n      &lt;appender-ref ref&#x3D;&quot;errorFile&quot;&#x2F;&gt;\n    &lt;&#x2F;root&gt;\n  &lt;&#x2F;springProfile&gt;\n\n  &lt;springProfile name&#x3D;&quot;dev&quot;&gt;\n    &lt;logger name&#x3D;&quot;com.zengdw&quot; level&#x3D;&quot;debug&quot; &#x2F;&gt;\n    &lt;root level&#x3D;&quot;INFO&quot;&gt;\n      &lt;appender-ref ref&#x3D;&quot;stdout&quot;&#x2F;&gt;\n    &lt;&#x2F;root&gt;\n  &lt;&#x2F;springProfile&gt;\n&lt;&#x2F;configuration&gt;</code></pre>\n\n","text":"logkack-spring.xml &lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt; &lt;configuration&gt; &lt;!-- magenta:洋红 --&gt...","link":"","photos":[],"count_time":{"symbolsCount":"6.3k","symbolsTime":"6 mins."},"categories":[{"name":"java","slug":"java","count":4,"path":"api/categories/java.json"}],"tags":[{"name":"logback","slug":"logback","count":2,"path":"api/tags/logback.json"}],"toc":"","author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}},"mapped":true,"prev_post":{"title":"yarn常用命令","uid":"6f3260d8368b13047156363f95700631","slug":13025,"date":"2021-06-24T09:32:01.000Z","updated":"2024-11-07T06:45:23.584Z","comments":true,"path":"api/articles/13025.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"yarn配置信息查看yarn config list 查询安装依赖的全局路径yarn global bin &#x2F;&#x2F; C:\\Users\\zengd\\AppData\\Local\\Yarn\\bin 修改全局 bin 位置yarn config set prefix &...","link":"","photos":[],"count_time":{"symbolsCount":620,"symbolsTime":"1 mins."},"categories":[{"name":"软件工具","slug":"软件工具","count":5,"path":"api/categories/软件工具.json"}],"tags":[{"name":"yarn","slug":"yarn","count":1,"path":"api/tags/yarn.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}},"next_post":{"title":"oauth2认证服务配置","uid":"c38eff67b0e937e596e547c6e75bdff6","slug":37106,"date":"2020-11-05T06:22:12.000Z","updated":"2024-11-07T06:45:23.581Z","comments":true,"path":"api/articles/37106.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"1、安全配置@Configuration @EnableWebSecurity public class SecurityConfig extends WebSecurityConfigurerAdapter &#123; @Resource private UserDetail...","link":"","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"java","slug":"java","count":4,"path":"api/categories/java.json"}],"tags":[{"name":"spring","slug":"spring","count":2,"path":"api/tags/spring.json"},{"name":"oauth2","slug":"oauth2","count":2,"path":"api/tags/oauth2.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}}}