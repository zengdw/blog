{"title":"solr 在tomcat中部署","uid":"eadba8e1a04c15f70a9e16ebbfce5177","slug":6408,"date":"2021-10-15T07:36:53.000Z","updated":"2024-11-13T02:24:55.918Z","comments":true,"path":"api/articles/6408.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":[],"content":"<h3 id=\"下载安装包\"><a href=\"#下载安装包\" class=\"headerlink\" title=\"下载安装包\"></a>下载安装包</h3><p>在<a href=\"https://solr.apache.org/downloads.html\">solr官网</a>下载安装包。solr有个3个独立的软件包：</p>\n<p>1、solr-8.10.0-src.tgz：solr的源码包</p>\n<p>2、solr-8.10.0.tgz：solr linux环境的安装包</p>\n<p>3、solr-8.10.0.zip：solr window环境的安装包</p>\n<h3 id=\"solr目录介绍\"><a href=\"#solr目录介绍\" class=\"headerlink\" title=\"solr目录介绍\"></a>solr目录介绍</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">solr-8.10.0\n├── bin                          solr的启动 停止脚本\n├── CHANGES.txt\n├── contrib                      包含solr的附加插件                  \n├── dist                         包含solr的主要jar包\n├── docs                         包括一个链接到在线 Javadocs\n├── example                      几种类型的示例\n├── licenses\n├── LICENSE.txt\n├── LUCENE_CHANGES.txt\n├── NOTICE.txt\n├── README.txt\n└── server\n\nserver目录：\n此目录是 Solr 应用程序的核心所在。此目录中的 README 提供了详细的概述，但以下是一些特点：\nSolr 的 Admin UI（server&#x2F;solr-webapp）\nJetty 库（server&#x2F;lib）\n日志文件（server&#x2F;logs）和日志配置（server&#x2F;resources）。有关如何自定义 Solr 的默认日志记录的详细信息，请参阅配置日志记录一节。\nsolr 的 core 主目录（server&#x2F;solr）\n示例配置（server&#x2F;solr&#x2F;configsets）</code></pre>\n\n<h3 id=\"在tomcat中部署步骤：\"><a href=\"#在tomcat中部署步骤：\" class=\"headerlink\" title=\"在tomcat中部署步骤：\"></a>在tomcat中部署步骤：</h3><p>1、复制 <code>solr/server/solr-webapp</code>下的<code>webapp</code>目录的所有内容到<code>tomcat/webapps</code>下，并改名为<code>solr</code>。</p>\n<p>2、复制<code>solr/server/lib/ext</code>下的所有jar包到<code>tomcat-9/webapps/solr/WEB-INF/lib</code>下</p>\n<p>3、复制<code>solr/server/lib</code>下<code>metrics-*</code>开头的jar到<code>tomcat-9/webapps/solr/WEB-INF/lib</code>下</p>\n<p>4、复制<code>solr/dist</code>目录下的<code>solr-analy*</code>和<code>solr-dataimporthandler</code>到<code>tomcat-9/webapps/solr/WEB-INF/lib</code>下</p>\n<p>5、在<code>tomcat-9/webapps/solr/WEB-INF/</code>下创建<code>classes</code>文件夹</p>\n<p>6、复制<code>server/resources</code>下的<code>logfj2</code>配置文件到刚创建的<code>classes</code>文件夹中</p>\n<p>7、复制<code>server/solr</code>目录到任意位置（这个是solr core的主目录）</p>\n<p>8、修改<code>tomcat-9/webapps/solr/WEB-INF/web.xml</code>文件</p>\n<pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;!-- 在web-app节点中加入 --&gt;\n&lt;env-entry&gt;\n  &lt;env-entry-name&gt;solr&#x2F;home&lt;&#x2F;env-entry-name&gt;\n  &lt;!-- 配置第6步solr core主目录的位置 --&gt;\n  &lt;env-entry-value&gt;&#x2F;usr&#x2F;local&#x2F;solr&lt;&#x2F;env-entry-value&gt;\n  &lt;env-entry-type&gt;java.lang.String&lt;&#x2F;env-entry-type&gt;\n&lt;&#x2F;env-entry&gt;\n\n&lt;!-- 注释掉 security-constraint --&gt;\n&lt;!-- Get rid of error message \n&lt;security-constraint&gt;\n  &lt;web-resource-collection&gt;\n    &lt;web-resource-name&gt;Disable TRACE&lt;&#x2F;web-resource-name&gt;\n    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;\n    &lt;http-method&gt;TRACE&lt;&#x2F;http-method&gt;\n  &lt;&#x2F;web-resource-collection&gt;\n  &lt;auth-constraint&#x2F;&gt;\n&lt;&#x2F;security-constraint&gt;\n&lt;security-constraint&gt;\n  &lt;web-resource-collection&gt;\n    &lt;web-resource-name&gt;Enable everything but TRACE&lt;&#x2F;web-resource-name&gt;\n    &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;\n    &lt;http-method-omission&gt;TRACE&lt;&#x2F;http-method-omission&gt;\n  &lt;&#x2F;web-resource-collection&gt;\n&lt;&#x2F;security-constraint&gt;\n--&gt;</code></pre>\n\n<p>9、启动tomcat,访问localhost:8080/solr即可</p>\n<h3 id=\"创建core\"><a href=\"#创建core\" class=\"headerlink\" title=\"创建core\"></a>创建core</h3><p>1、在solr core的主目录下创建test(core的名称)文件夹</p>\n<p>2、在test下创建conf和data文件夹</p>\n<p>3、复制<code>solr-8.10.0/example/example-DIH/solr/solr/conf</code>文件夹下的所有内容到刚创建的<code>conf</code>目录中</p>\n<p>4、重启tomcat</p>\n<p><img src=\"../images/solr-add-core.png\" alt=\"solr-add-core\"></p>\n","text":"下载安装包在solr官网下载安装包。solr有个3个独立的软件包： 1、solr-8.10.0-src.tgz：solr的源码包 2、solr-8.10.0.tgz：solr linux环境的安装包 3、solr-8.10.0.zip：solr window环境的安装包 solr...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"中间键","slug":"中间键","count":3,"path":"api/categories/中间键.json"}],"tags":[{"name":"solr","slug":"solr","count":2,"path":"api/tags/solr.json"},{"name":"tomcat","slug":"tomcat","count":2,"path":"api/tags/tomcat.json"},{"name":"搜索引擎","slug":"搜索引擎","count":2,"path":"api/tags/搜索引擎.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85\"><span class=\"toc-text\">下载安装包</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#solr%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">solr目录介绍</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9C%A8tomcat%E4%B8%AD%E9%83%A8%E7%BD%B2%E6%AD%A5%E9%AA%A4%EF%BC%9A\"><span class=\"toc-text\">在tomcat中部署步骤：</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BAcore\"><span class=\"toc-text\">创建core</span></a></li></ol>","author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}},"mapped":true,"prev_post":{"title":"solr查询","uid":"78ffce49b04ec8f420c47ced87ba3443","slug":1939,"date":"2021-10-26T02:59:22.000Z","updated":"2024-11-07T06:45:23.583Z","comments":true,"path":"api/articles/1939.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"solr查询 http://127.0.0.1:8983/solr/films/select films:索引名称 搜索单个术语这可以跨多个字段进行查询，通过复制字段（Copy Field）实现 /select?q=查询参数 限制返回文档的字段 /select?fl=id,nam...","link":"","photos":[],"count_time":{"symbolsCount":577,"symbolsTime":"1 mins."},"categories":[{"name":"中间键","slug":"中间键","count":3,"path":"api/categories/中间键.json"}],"tags":[{"name":"solr","slug":"solr","count":2,"path":"api/tags/solr.json"},{"name":"tomcat","slug":"tomcat","count":2,"path":"api/tags/tomcat.json"},{"name":"搜索引擎","slug":"搜索引擎","count":2,"path":"api/tags/搜索引擎.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}},"next_post":{"title":"第一个Kubernetes服务","uid":"bb670faffeae4e8deeed3432c0004482","slug":50138,"date":"2021-09-16T09:15:43.000Z","updated":"2024-11-07T06:45:23.586Z","comments":true,"path":"api/articles/50138.json","keywords":"zengdw, java, html, js, css, spring, mysql","cover":null,"text":"第一个Kubernetes服务创建 Deploymentnginx-deployment.yaml apiVersion: apps&#x2F;v1 kind: Deployment metadata: name: nginx-deployment # 表示Deployment的...","link":"","photos":[],"count_time":{"symbolsCount":"16k","symbolsTime":"14 mins."},"categories":[{"name":"Kubernetes","slug":"Kubernetes","count":1,"path":"api/categories/Kubernetes.json"}],"tags":[{"name":"Kubernetes","slug":"Kubernetes","count":2,"path":"api/tags/Kubernetes.json"},{"name":"Deployment","slug":"Deployment","count":1,"path":"api/tags/Deployment.json"}],"author":{"name":"zengdw","slug":"blog-author","avatar":"/img/z.png","link":"/","description":"个人学习记录","socials":{"github":"https://github.com/zengdw","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/img/svg/gitee.svg","link":"https://gitee.com/zengdw"},"email":{"icon":"/img/svg/email-fill.svg","link":"mailto:309606298@qq.com"}}}}}}